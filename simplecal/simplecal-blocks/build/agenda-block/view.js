import{getContext as e,getElement as t,store as a}from"@wordpress/interactivity";const s=window.wp.apiFetch,{state:r}=a("agendaBlock",{state:{output:"",currentPage:0,morePastEvents:!0,moreFutureEvents:!0},actions:{getEvents:()=>{const{ref:a}=t(),n=e();switch(a.dataset.direction){case"future":if(!r.moreFutureEvents)return;++r.currentPage;break;case"previous":if(!r.morePastEvents)return;--r.currentPage}const o=[`page=${r.currentPage.toString()}`,`per_page=${n.postsPerPage}`,`agendaLayout=${n.agendaLayout}`,`monthYearHeadersShow=${n.monthYearHeadersShow}`,`dayOfWeekShow=${n.dayOfWeekShow}`,`thumbnailShow=${n.thumbnailShow}`,`excerptShow=${n.excerptShow}`,`excerptLines=${n.excerptLines}`,`pastEventsShow=${n.pastEventsShow}`,`pastEventsDays=${n.pastEventsDays}`,`futureEventsDays=${n.futureEventsDays}`,`eventTags=${n.eventTags}`,`tagsShow=${n.tagsShow}`];s({path:`/simplecal/v1/events/agenda/?${o.join("&")}`}).then(e=>{r.output=e.output,r.morePastEvents=e.morePrevious,r.moreFutureEvents=e.moreFuture})}},callbacks:{updateAgenda:()=>{const{ref:e}=t();e.innerHTML=r.output}}});